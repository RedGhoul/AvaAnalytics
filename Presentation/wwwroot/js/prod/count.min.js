!function(){"use strict";window.sharpcounter&&window.sharpcounter.vars?window.sharpcounter=window.sharpcounter.vars:window.sharpcounter=window.sharpcounter||{};var a=function(a){var d={p:void 0===a.path?sharpcounter.path:a.path,r:void 0===a.referrer?sharpcounter.referrer:a.referrer,t:void 0===a.title?sharpcounter.title:a.title,e:!(!a.event&&!sharpcounter.event),s:[window.screen.width,window.screen.height,window.devicePixelRatio||1],b:c(),q:location.search};localStorage.currSession||localStorage.setItem("currSession",Math.random().toString(36).substr(2,5));var e,f,g;if("function"==typeof d.r&&(e=d.r),"function"==typeof d.t&&(g=d.t),"function"==typeof d.p&&(f=d.p),b(d.r)&&(d.r=document.referrer),b(d.t)&&(d.t=document.title),b(d.p)){var h=location,i=document.querySelector('link[rel="canonical"][href]');if(i){var j=document.createElement("a");j.href=i.href,j.hostname.replace(/^www\./,"")===location.hostname.replace(/^www\./,"")&&(h=j)}d.p=h.pathname+h.search||"/"}return e&&(d.r=e(d.r)),g&&(d.t=g(d.t)),f&&(d.p=f(d.p)),d},b=function(a){return null===a||void 0===a||"function"==typeof a},c=function(){var a=window,b=document;return a.callPhantom||a._phantom||a.phantom?150:a.__nightmare?151:b.__selenium_unwrapped||b.__webdriver_evaluate||b.__driver_evaluate?152:navigator.webdriver?153:0},d=function(a){var b=[];for(var c in a)""!==a[c]&&null!==a[c]&&void 0!==a[c]&&!1!==a[c]&&b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return"?"+b.join("&")},e=function(){var a=document.querySelector("script[data-sharpcounter]");return a&&a.dataset.sharpcounter?a.dataset.sharpcounter:sharpcounter.endpoint||window.counter};if(sharpcounter.filter=function(){return"visibilityState"in document&&("prerender"===document.visibilityState||"hidden"===document.visibilityState)?"visibilityState":sharpcounter.allow_frame||location===parent.location?!(!localStorage||"t"!==localStorage.getItem("skipgc"))&&"disabled with #toggle-sharpcounter":"frame"},window.sharpcounter.url=function(b){var c=a(b||{});if(null!==c.p){c.rnd=Math.random().toString(36).substr(2,5);var f=e();return f?f+d(c):void(console&&"warn"in console&&console.warn("sharpcounter: no endpoint found"))}},window.sharpcounter.count=function(a){var b=sharpcounter.filter();if(b)return void(console&&"log"in console&&console.warn("sharpcounter: not counting because of: "+b));var c=sharpcounter.url(a);if(!c)return void(console&&"log"in console&&console.warn("sharpcounter: not counting because path callback returned null"));var d=document.querySelector("script[data-sharpcounter-apikey]");d=d.getAttribute("data-sharpcounter-apikey");var e=document.createElement("img");e.src=c+"&key="+d+"&session="+localStorage.currSession,e.style.position="absolute",e.setAttribute("alt",""),e.setAttribute("aria-hidden","true");var f=function(){e&&e.parentNode&&e.parentNode.removeChild(e)};setTimeout(f,3e3),e.addEventListener("load",f,!1),document.body.appendChild(e)},window.sharpcounter.get_query=function(a){for(var b=location.search.substr(1).split("&"),c=0;c<b.length;c++)if(0===b[c].toLowerCase().indexOf(a.toLowerCase()+"="))return b[c].substr(a.length+1)},window.sharpcounter.bind_events=function(){if(document.querySelectorAll){var a=function(a){return function(){sharpcounter.count({event:!0,path:a.dataset.sharpcounterClick||a.name||a.id||"",title:a.dataset.sharpcounterTitle||a.title||(a.innerHTML||"").substr(0,200)||"",referrer:a.dataset.sharpcounterReferrer||a.dataset.sharpcounterReferral||""})}};Array.prototype.slice.call(document.querySelectorAll("*[data-sharpcounter-click]")).forEach(function(b){if(!b.dataset.sharpcounterBound){var c=a(b);b.addEventListener("click",c,!1),b.addEventListener("auxclick",c,!1),b.dataset.sharpcounterBound="true"}})}},"#toggle-sharpcounter"===location.hash&&("t"===localStorage.getItem("skipgc")?(localStorage.removeItem("skipgc","t"),alert("sharpcounter tracking is now ENABLED in this browser.")):(localStorage.setItem("skipgc","t"),alert("sharpcounter tracking is now DISABLED in this browser until "+location+" is loaded again."))),!sharpcounter.no_onload){var f=function(){sharpcounter.count(),sharpcounter.no_events||sharpcounter.bind_events()};null===document.body?document.addEventListener("DOMContentLoaded",function(){f()},!1):f()}}();