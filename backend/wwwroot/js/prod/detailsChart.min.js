$(function(){function a(){var a=navigator.userAgent;return/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(a)?"tablet":/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/.test(a)?"mobile":"desktop"}var b=document.querySelector("script[data-website-id]").getAttribute("data-website-id"),c={PageViewCountChartNode:document.getElementById("bar-chart-PageViewCounts"),URLRoutesVisitedChartNode:document.getElementById("bar-chart-InteractionStats"),BrowserTypeStatsChartNode:document.getElementById("bar-chart-BrowserStats"),SystemStatsChartNode:document.getElementById("bar-chart-SystemStats"),ScreenSizeStatsChartNode:document.getElementById("bar-chart-ScreenStats"),LocationOfVisitorsStatsChartNode:document.getElementById("bar-chart-LocationStats"),newGradArr:["#CC2936","#08415C"],InteractionStats_NotFoundText:document.getElementById("InteractionStats-NotFoundText"),BrowserStats_NotFoundText:document.getElementById("BrowserStats-NotFoundText"),SystemStats_NotFoundText:document.getElementById("SystemStats-NotFoundText"),ScreenStats_NotFoundText:document.getElementById("ScreenStats-NotFoundText"),LocationStats_NotFoundText:document.getElementById("LocationStats-NotFoundText"),Error_Message:"Nothing Found Just Yet",Hid_NotFoundText:function(){c.InteractionStats_NotFoundText.hidden=!0,c.BrowserStats_NotFoundText.hidden=!0,c.SystemStats_NotFoundText.hidden=!0,c.ScreenStats_NotFoundText.hidden=!0,c.LocationStats_NotFoundText.hidden=!0},DisplayMessage:function(a,b,c){null!==a&&0!==a.length||(b.innerHTML=c,b.hidden=!1),sum=0;for(var d=0;d<a.length;d++)sum+=a[d];console.log(sum),0===sum&&(b.innerHTML=c,b.hidden=!1)}};c.Hid_NotFoundText();var d={yAxes:[{ticks:{beginAtZero:!0,fontSize:14,fontFamily:"'Roboto', sans-serif",fontColor:"black",fontStyle:"500"}}],xAxes:[{ticks:{beginAtZero:!0,stepSize:10,fontSize:14,fontFamily:"'Roboto', sans-serif",fontColor:"black",fontStyle:"500"}}]},e={yAxes:[{ticks:{beginAtZero:!0,fontSize:14,fontFamily:"'Roboto', sans-serif",fontColor:"black",fontStyle:"500"}}],xAxes:[{ticks:{beginAtZero:!0,stepSize:10,fontSize:12,fontFamily:"'Roboto', sans-serif",fontColor:"black",fontStyle:"500",autoSkip:!1,maxRotation:90,minRotation:90}}]},f={fontSize:14,fontColor:"black",display:!0};"mobile"===a()&&(ISChart.height=80,BSChart.height=40,SysSChart.height=40,ScreenSChart.height=40,LocationSChart.height=40),axios.get("/api/Stats/PageViewCountStats/"+b).then(function(a){var b=a.data,d=[],g=[];b.forEach(function(a){d.push(new Date(a.createdAt).toString().substring(0,33)),g.push(a.count)}),new Chart(c.PageViewCountChartNode,{type:"line",data:{labels:d,datasets:[{borderColor:"rgb(255, 99, 132)",label:"Counts",data:g}],fill:!1},options:{legend:{display:!1},title:{fontSize:18,fontColor:f.fontColor,display:f.display,text:"Page View Counts"},scales:e}})}).catch(function(a){console.log(a)}),axios.get("/api/Stats/InteractionStats/"+b).then(function(a){var b=a.data,e=[],g=[];c.DisplayMessage(b,c.InteractionStats_NotFoundText,c.Error_Message),b.forEach(function(a){e.push(a.path),g.push(a.total)}),new Chart(c.URLRoutesVisitedChartNode,{type:"horizontalBar",data:{labels:e,datasets:[{label:"Counts",backgroundColor:chroma.scale(c.newGradArr).mode("lch").colors(g.length),data:g}]},options:{legend:{display:!1},title:{fontSize:18,fontColor:f.fontColor,display:f.display,text:"Page Interactions"},scales:d}})}).catch(function(a){console.log(a)}),axios.get("/api/Stats/BrowserStats/"+b).then(function(a){var b=a.data;c.DisplayMessage(b,c.BrowserStats_NotFoundText,c.Error_Message);var e=[],g=[];b.forEach(function(a){e.push(a.browser+" "+a.version),g.push(a.count)}),new Chart(c.BrowserTypeStatsChartNode,{type:"horizontalBar",data:{labels:e,datasets:[{label:"Counts",backgroundColor:chroma.scale(c.newGradArr).mode("lch").colors(g.length),data:g}]},options:{legend:{display:!1},title:{fontSize:f.fontSize,fontColor:f.fontColor,display:f.display,text:"Browser Stats"},scales:d}})}).catch(function(a){console.log(a)}),axios.get("/api/Stats/SystemStats/"+b).then(function(a){var b=a.data;c.DisplayMessage(b,c.SystemStats_NotFoundText,c.Error_Message);var e=[],g=[];b.forEach(function(a){e.push(a.platform+" "+a.version),g.push(a.count)}),new Chart(c.SystemStatsChartNode,{type:"horizontalBar",data:{labels:e,datasets:[{label:"Counts",backgroundColor:chroma.scale(c.newGradArr).mode("lch").colors(g.length),data:g}]},options:{legend:{display:!1},title:{fontSize:f.fontSize,fontColor:f.fontColor,display:f.display,text:"System Stats"},scales:d}})}).catch(function(a){console.log(a)}),axios.get("/api/Stats/ScreenSizeStats/"+b).then(function(a){var b=a.data,e=["Phones","Large Phones","Tables","Desktops","Monitors 4K Plus"],g={numberOfPhones:"Phones",largePhonesSmallTablets:"Large Phones",tabletsSmallLaptops:"Tables",computerMonitors:"Desktops",computerMonitors4K:"Monitors 4K Plus"},h=[];for(var i in b[0])for(var j in e)g[i]===e[j]&&h.push(b[0][i]);console.log(h),c.DisplayMessage(h,c.ScreenStats_NotFoundText,c.Error_Message),new Chart(c.ScreenSizeStatsChartNode,{type:"horizontalBar",data:{labels:e,datasets:[{label:"Counts",backgroundColor:chroma.scale(c.newGradArr).mode("lch").colors(h.length),data:h}]},options:{legend:{display:!1},title:{fontSize:f.fontSize,fontColor:f.fontColor,display:f.display,text:"Screen Size Stats"},scales:d}})}).catch(function(a){console.log(a)}),axios.get("/api/Stats/LocationStats/"+b).then(function(a){var b=a.data;c.DisplayMessage(b,c.LocationStats_NotFoundText,c.Error_Message);var e=[],g=[];b.forEach(function(a){e.push(a.location),g.push(a.count)}),new Chart(c.LocationOfVisitorsStatsChartNode,{type:"horizontalBar",data:{labels:e,datasets:[{label:"Counts",backgroundColor:chroma.scale(c.newGradArr).mode("lch").colors(g.length),data:g}]},options:{legend:{display:!1},title:{fontSize:f.fontSize,fontColor:f.fontColor,display:f.display,text:"Location Stats"},scales:d}})}).catch(function(a){console.log(a)})});