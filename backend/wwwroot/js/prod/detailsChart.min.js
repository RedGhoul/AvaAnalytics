$(function(){function a(){var a=navigator.userAgent;return/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(a)?"tablet":/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/.test(a)?"mobile":"desktop"}var b=document.querySelector("script[data-website-id]").getAttribute("data-website-id"),c=document.getElementById("bar-chart-PageViewCounts"),d=document.getElementById("bar-chart-InteractionStats"),e=document.getElementById("bar-chart-BrowserStats"),f=document.getElementById("bar-chart-SystemStats"),g=document.getElementById("bar-chart-ScreenStats"),h=document.getElementById("bar-chart-LocationStats"),i="#CC2936",j="#08415C",k=[i,j],l={yAxes:[{ticks:{fontSize:14,fontFamily:"'Roboto', sans-serif",fontColor:"black",fontStyle:"500"}}],xAxes:[{ticks:{beginAtZero:!0,stepSize:10,fontSize:14,fontFamily:"'Roboto', sans-serif",fontColor:"black",fontStyle:"500"}}]},m={yAxes:[{ticks:{fontSize:14,fontFamily:"'Roboto', sans-serif",fontColor:"black",fontStyle:"500"}}],xAxes:[{ticks:{beginAtZero:!0,stepSize:10,fontSize:12,fontFamily:"'Roboto', sans-serif",fontColor:"black",fontStyle:"500",autoSkip:!1,maxRotation:90,minRotation:90}}]},n={fontSize:14,fontColor:"black",display:!0};"mobile"===a()&&(d.height=80,e.height=40,f.height=40,g.height=40,h.height=40),axios.get("/api/Stats/PageViewCountStats/"+b).then(function(a){var b=a.data,d=[],e=[];b.forEach(function(a){d.push(new Date(a.createdAt).toString().substring(0,33)),e.push(a.count)}),new Chart(c,{type:"line",data:{labels:d,datasets:[{borderColor:"rgb(255, 99, 132)",label:"Counts",data:e}],fill:!1},options:{legend:{display:!1},title:{fontSize:18,fontColor:n.fontColor,display:n.display,text:"Page View Counts"},scales:m}})}).catch(function(a){console.log(a)}),axios.get("/api/Stats/InteractionStats/"+b).then(function(a){var b=a.data,c=[],e=[];b.forEach(function(a){c.push(a.path),e.push(a.total)}),new Chart(d,{type:"horizontalBar",data:{labels:c,datasets:[{label:"Counts",backgroundColor:chroma.scale(k).mode("lch").colors(e.length),data:e}]},options:{legend:{display:!1},title:{fontSize:18,fontColor:n.fontColor,display:n.display,text:"Page Interactions"},scales:l}})}).catch(function(a){console.log(a)}),axios.get("/api/Stats/BrowserStats/"+b).then(function(a){var b=a.data,c=[],d=[];b.forEach(function(a){c.push(a.browser+" "+a.version),d.push(a.count)}),new Chart(e,{type:"horizontalBar",data:{labels:c,datasets:[{label:"Counts",backgroundColor:chroma.scale(k).mode("lch").colors(d.length),data:d}]},options:{legend:{display:!1},title:{fontSize:n.fontSize,fontColor:n.fontColor,display:n.display,text:"Browser Stats"},scales:l}})}).catch(function(a){console.log(a)}),axios.get("/api/Stats/SystemStats/"+b).then(function(a){var b=a.data,c=[],d=[];b.forEach(function(a){c.push(a.platform+" "+a.version),d.push(a.count)}),new Chart(f,{type:"horizontalBar",data:{labels:c,datasets:[{label:"Counts",backgroundColor:chroma.scale(k).mode("lch").colors(d.length),data:d}]},options:{legend:{display:!1},title:{fontSize:n.fontSize,fontColor:n.fontColor,display:n.display,text:"System Stats"},scales:l}})}).catch(function(a){console.log(a)}),axios.get("/api/Stats/ScreenSizeStats/"+b).then(function(a){var b=a.data;console.log(b);var c=["Phones","Large Phones","Tables","Desktops","Monitors 4K Plus"],d={numberOfPhones:"Phones",largePhonesSmallTablets:"Large Phones",tabletsSmallLaptops:"Tables",computerMonitors:"Desktops",computerMonitors4K:"Monitors 4K Plus"},e=[];for(var f in b[0])for(var h in c)console.log(d[f]),console.log(c[h]),d[f]===c[h]&&e.push(b[0][f]);console.log(e),new Chart(g,{type:"horizontalBar",data:{labels:c,datasets:[{label:"Counts",backgroundColor:chroma.scale(k).mode("lch").colors(e.length),data:e}]},options:{legend:{display:!1},title:{fontSize:n.fontSize,fontColor:n.fontColor,display:n.display,text:"Screen Size Stats"},scales:l}})}).catch(function(a){console.log(a)}),axios.get("/api/Stats/LocationStats/"+b).then(function(a){var b=a.data,c=[],d=[];b.forEach(function(a){c.push(a.location),d.push(a.count)}),new Chart(h,{type:"horizontalBar",data:{labels:c,datasets:[{label:"Counts",backgroundColor:chroma.scale(k).mode("lch").colors(d.length),data:d}]},options:{legend:{display:!1},title:{fontSize:n.fontSize,fontColor:n.fontColor,display:n.display,text:"Location Stats"},scales:l}})}).catch(function(a){console.log(a)})});